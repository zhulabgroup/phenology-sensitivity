---
title: "Spatial_temporal_gradient"
author: "Yi"
date: "`r format(Sys.Date(), '%m/%d/%Y')`"
output: html_document
---

```{r setup, echo=FALSE, message=FALSE}
library(readr)
library(dplyr)
library(tidyr)
library(ggplot2)
library(see)
library(purrr)
library(tibble)
library(lubridate)
library(patchwork)
knitr::opts_knit$set(root.dir = "~/yia_R/npn_flower_leaf_lag/scripts/")
# ln -s /nfs/turbo/seas-zhukai/phenology/phenology_leaf_flower_lag  data
```


I am using the observation with both leaf and flower observations

# temporal_spatial gradient
```{r temporal, message=FALSE, warning=FALSE, fig.width=6*1.618 , fig.height=6, cache=TRUE}
source("plot_temporal_spatial_northredoak.R")
temporal_spatial
rm(list = ls())
```

# data map for north red oak
```{r map, message=FALSE, warning=FALSE, fig.width=6*1.618 , fig.height=6, cache=TRUE}
source("plot_data_map.R")
data_map
rm(list = ls())
```

# all species summary

```{r species summary, message=FALSE, warning=FALSE, fig.width=6*1.618 , fig.height=6, cache=TRUE}
source("~/yia_R/npn_flower_leaf_lag/scripts/table_spatial_temporal_statistics.R")
species_summary
spatial_temporal
```

# compare the datasets in npn
```{r}
npn %>%
  group_by(dataset_id) %>% 
  summarise(count = n())
```

```{r}
npn %>%
  group_by(npn$partner_group) %>% 
  summarise(count = n()) %>% 
  arrange(desc(count))
```